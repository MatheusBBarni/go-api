
	 
	<div class="content" ng-init="atualizarNomeTela('Notas fiscais')">
	
		<table id="tabela-principal" data-toggle="table"
	       data-striped="true"
	       data-sortable="true"
	       data-classes="table table-striped table-hover"
	       data-refresh="true"
	       data-filter-control="true">
		    <thead>
		    <tr>
		        <th data-field="numero" data-sortable="true" data-filter-control="input">Número</th>
		        <th data-field="cliente.nomeFantasia" data-sortable="true" data-filter-control="input">Cliente(Compra)</th>
		        <th data-field="clienteFaturamento.nomeFantasia" data-sortable="true" data-filter-control="input">Cliente(Faturamento)</th>
		        <th data-field="valorNotaFiscal" data-formatter="moneyFormatter" data-sortable="true" data-filter-control="input">Valor Total</th>
		        <th data-formatter="visualizarNFFormatter" class="th-acao"></th>
		        <th data-formatter="excluirFormatter" class="th-acao"></th>
		    </tr>
		    </thead>
		</table>
		
	</div>
	

	<dc-modal-cadastro title="Nota Fiscal" api="modalNota" on-save="salvar()" on-open="onOpenModal(id)" id="modal_nota" can-save="true">              
		<dc-tabset>
			<dc-tab heading="Dados">
			
              	<dc-row-form>		
              		<dc-field-group class="col-lg-3" label="Série" model="registro.serie" type="number" decimais="0"/>
              		<dc-field-group class="col-lg-3" label="Número NF-e" model="registro.numero" type="number" decimais="0"/>
              		<dc-field-group class="col-lg-3" label="Data de emissão" model="registro.dataHoraEmissao" type="date"/>
              		<dc-field-group class="col-lg-3" label="Data de entrega" model="registro.dataHoraSaidaEntrada" type="date"/>
                </dc-row-form>
                
                <dc-row-form>
                	<dc-field-group class="col-lg-3" label="NF-e Remessa" model="registro.numeroNotaRemessa"/>
              		<div class="col-md-9 col-lg-9">
                		<label  class="control-label label-form">Fornecedor</label>
                		<select class="form-control"  ng-options="item as item.nomeFantasia for item in fornecedores track by item.id" ng-model="registro.fornecedor">
		           			<option value="">---- SELECIONE ----</option>
		           		</select>
                	</div>                	
                </dc-row-form>
                
                <dc-row-form>
	                	<div class="col-lg-12 col-md-12">
	                		<label  class="control-label label-form">Cliente(Compra)</label>
	                		<select class="form-control"  ng-options="item as item.nomeFantasia for item in clientes track by item.id" ng-model="registro.cliente">
			           		</select>
	                	</div>
	            </dc-row-form>
				<dc-row-form>	                	
	                	<div class="col-lg-12 col-md-12">
	                		<label  class="control-label label-form">Cliente(Faturamento)</label>
	                		<select class="form-control"  ng-options="item as item.nomeFantasia for item in clientes track by item.id" ng-model="registro.clienteFaturamento">
			           		</select>
	                	</div>
	            </dc-row-form>
				<dc-row-form>	                	
						<div class="col-lg-12 col-md-12">
	                		<label  class="control-label label-form">Endereço de entrega</label>
	                		<select class="form-control"  ng-options="item as item.descricao for item in enderecos track by item.id" ng-model="registro.enderecoEntrega">
			           		</select>
	                	</div>                
                </dc-row-form>
                
                <dc-row-form>
                	<dc-field-group class="col-lg-3" label="Valor Frete" model="registro.valorTotalFrete" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor seguro" model="registro.valorTotalSeguro" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor ICMS" model="registro.valorIcms" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor ICMS ST" model="registro.valorIcmsSt" type="number"/>
                </dc-row-form>
                
                <dc-row-form>
                	<dc-field-group class="col-lg-3" label="Valor PIS" model="registro.valorPis" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor COFINS" model="registro.valorCofins" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor imp. Importação" model="registro.valorImpostosImportacao" type="number"/>
                	<dc-field-group class="col-lg-3" label="Valor outras despesas" model="registro.valorOutrasDespesas" type="number"/>                	
                </dc-row-form>
                
                <dc-row-form>
                	<dc-field-group class="col-lg-3" label="Valor nota fiscal" model="registro.valorNotaFiscal" type="number"/>
                </dc-row-form>
                  
	  		</dc-tab>
	  		
	  		<dc-tab heading="Itens">
	  		
				<dc-row-form>
					<div class="col-lg-12">
						<table id="tabela-itens-nota" data-toggle="table"
							data-striped="true" data-sortable="true"
							data-classes="table table-hover table-condensed"
							data-refresh="true">
							<thead>
								<tr>
									<th data-field="produto.descricao" data-sortable="true">Descrição</th>
									<th data-field="caracteristicaVariante.descricao" data-sortable="true">Cor</th>
									<th data-field="caracteristicaVariante2.descricao" data-sortable="true">Marca</th>
									<th data-field="quantidade" data-formatter="moneyFormatter" data-sortable="true">Qtde</th>
									<th data-field="valorUnitario" data-formatter="moneyFormatter" data-sortable="true">Preço/Kg</th>
									<th data-field="valorProduto" data-formatter="moneyFormatter" data-sortable="true">Valor total</th>
									<th data-field="percentualIcms" data-formatter="moneyFormatter" data-sortable="true">ICMS(%)</th>
								</tr>
							</thead>
						</table>
					</div>
				</dc-row-form>	
	  		
	  		</dc-tab>
	  		
	  		<dc-tab heading="Duplicatas">
	  		
	  			<dc-row-form>
              		<div class="col-md-12 col-lg-12">
					  	<div class="checkbox">
					    	<label>
					      		<input ng-model="registro.sePagamentoAVista" ng-true-value="'S'" ng-false-value="'N'" type="checkbox"> A vista
					    	</label>
					  	</div>              		
                	</div>      	  				
	  			</dc-row-form>
	  		
		      			<div class="row row-form">
		      					                
		                	<div class="col-lg-3">
		                		<label class="control-label label-form">Número</label>
		                		<input class="form-control"  ng-model="duplicata.numeroDuplicata" ui-number-mask="0"/>
		                	</div>
		                	<div class="col-lg-3">
		                		<label class="control-label label-form">Vencimento</label>
		                		<input class="form-control"  ng-model="duplicata.dataVencimento" type="date"/>
		                	</div>
		                	<div class="col-lg-3">
		                		<label class="control-label label-form">Valor</label>
		                		<input class="form-control" ng-model="duplicata.valor" type="text" ui-number-mask="2"/>
		                	</div>
		                	<div class="col-lg-3">
		                		<button class="btn btn-success btn-filter" style='width:100%' ng-click="adicionarDuplicata()">Adicionar</button>
		                	</div>			                	
		                </div>
		                	  		
				<dc-row-form>
					<div class="col-lg-12">
						<table id="tabela-duplicatas" data-toggle="table"
							data-striped="true" data-sortable="true"
							data-classes="table table-hover table-condensed"
							data-refresh="true">
							<thead>
								<tr>
									<th data-field="numeroDuplicata" data-sortable="true">Número</th>
									<th data-field="dataVencimento" data-formatter="dateFormatter" data-sortable="true">Vencimento</th>
									<th data-field="valor" data-formatter="moneyFormatter" data-sortable="true">Valor</th>
									<th data-formatter="excluirDuplicataFormatter" class="th-acao"></th>
								</tr>
							</thead>
						</table>
					</div>
				</dc-row-form>	
	  		
	  		</dc-tab>	  		
	  		
		</dc-tabset>
	</dc-modal-cadastro>

	