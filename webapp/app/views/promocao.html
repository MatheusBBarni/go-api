<main class="corpo" ng-init="atualizarNomeTela('Ofertas')">
	<div class="container">
		<div id="container-principal" class="container-principal">
				<div class="grupo-botoes">
					<div class="botao-incluir" ng-click="incluir()" onclick="showDetalhes('container-principal', 'container-detalhes1')"><i class="fas fa-plus"></i> &nbsp; Incluir</div>
				</div>
			
	
			<table id="tabela-principal" data-toggle="table"
				data-striped="true"
				data-sortable="true" data-classes="table table-hover table-striped table-condensed"
				data-refresh="true">
				<thead>
					<tr>
						<th data-field="dataPromocao" data-sortable="true" data-formatter="dateFormatter">Data da incício</th>
						<th data-field="dataFimPromocao" data-sortable="true" data-formatter="dateFormatter">Data do término</th>
						<th data-field="titulo" data-sortable="true">Título</th>
						<th data-formatter="editarFormatter" class="th-span"></th>
						<th data-formatter="excluirFormatter" class="th-span"></th>
					</tr>
				</thead>
			</table>
			<div class="pagination-wrapper">
			
			  Quantidade por página: 
			  <select class="pagination-select" id="sctPagination" ng-model="pagination.page.size" ng-change="pagination.refresh()" >
			    <option selected>10</option>
			    <option ng-show="pagination.page.totalElements > 25" value="25">25</option>
			    <option ng-show="pagination.page.totalElements > 50" value="50">50</option>
			    <option ng-show="pagination.page.totalElements > 100" value="100">100</option>
			    <option value="{{pagination.page.totalElements}}">{{pagination.page.totalElements}}</option>
			  </select>
			  de {{pagination.page.totalElements}}
			  
			  
			  <div class="pagination">
			    <a class="prev page-numbers" href="javascript:;" ng-click="pagination.fetchFirst()">Primeira</a>
			
			    
			    <a class="page-numbers " ng-click="pagination.prevData()" ng-show="pagination.page.number > 1">{{pagination.prevNumber() + 1}}</a>
			    
			    <a class="page-numbers current" href="javascript:;"  ng-click="pagination.refresh()">{{pagination.page.number + 1}}</a>
			    
			    <a class="page-numbers" href="javascript:;" ng-click="pagination.nextData()" ng-show="pagination.page.number < pagination.page.totalPages-1">{{pagination.nextNumber() + 1}}</a>
			    
			    
			    <a class="next page-numbers" href="javascript:;" ng-click="pagination.fetchLast()">Última</a>
			    
			  </div>
			</div>
		</div>
	</div>
	
	
	<div id="container-detalhes1" class="container-detalhes">
		<div class="container">
			<div class="grupo-botoes">
				<div class="botao-padrao botao-incluir" ng-click="salvar()" onclick="showDetalhes('container-detalhes1', 'container-principal')"><i class="far fa-save"></i> &nbsp; Salvar</div>
				<div class="botao-fechar" data-dismiss onclick="showDetalhes('container-detalhes1', 'container-principal')"><i class="fas fa-times"></i></div>
			</div>
		</div>
		<div class="container">
			<div class="corpo-detalhes">
				<div class="row row-form">
					<div class="col-lg-12">
						<label class="label-form">Título</label> 
						<input class="form-control" ng-model="registro.titulo" type="text" />
					</div>
				</div>
			
				<div class="row row-form">
					<div class="col-lg-12">
						<label class="label-form">Descrição</label> 
						<input class="form-control" ng-model="registro.descricao" type="text" />
					</div>
				</div>
				<div class="row row-form">
					<div class="col-lg-6">
						<label class="label-form">Data da promoção</label> 
						<input class="form-control" ng-model="registro.dataPromocao" type="date" />
					</div>
					<div class="col-lg-6">
						<label class="label-form">Data do fim da promoção</label> 
						<input class="form-control" ng-model="registro.dataFimPromocao" type="date" />
					</div>					
				</div>

				<div class="row row-form">
					<div class="col-lg-3">
						<label class="label-form">Valor</label> 
						<input class="form-control" ng-model="registro.valor" ui-number-mask="2"/>
					</div>
				</div>

				<div class="row row-form">
					<div class="col-lg-12">
						<label class="label-form">Link arquivo</label> 
						<input class="form-control" ng-model="registro.linkArquivo" type="text" />
					</div>
				</div>		
						
				<div class="row row-form">
					<div class="col-md-6 col-lg-6">
						<img src={{srcImagem}} style="width: 100%;" class="img-responsive">
						<button class="btn btn-success" onclick="$('#fileImagem').click()">Alterar imagem</button>
					</div>
					<div class="form-group col-md-9 col-lg-9">
						<input style="visibility: hidden;" id="fileImagem" type="file"
							ng-model="file"
							onchange="angular.element(this).scope().converterArquivo(this)">
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!--<div class="modal-header">
		<h4 class="modal-title">Bloqueios</h4>
	</div> -->
	
	<div id="container-detalhes2" class="container-detalhes">
		<div class="container">
			<div class="grupo-botoes">
				<div class="botao-padrao botao-excluir" onclick="showDetalhes('container-detalhes2', 'container-principal')"><i class="fas fa-trash-alt"></i> &nbsp; Cancelar</div>
				<div class="botao-fechar" onclick="showDetalhes('container-detalhes2', 'container-principal')"><i class="fas fa-times"></i></div>
			</div>
		</div>
		<div class="container">
			<div class="corpo-detalhes">
				<div class="row row-form">
					<div class="col-lg-8">
						<select class="form-control"
							ng-model="bloqueio.caracteristicaBloqueada"
							ng-options="item as item.descricao for item in caracteristicasTemp track by item.id">
							<option value="">----SELECIONE----</option>
						</select>
					</div>
					<div class="col-lg-4">
						<button type="button" class="btn btn-warning"
							ng-click="adicionarBloqueio()">Incluir</button>
					</div>
				</div>
				<div class="row row-form" ng-repeat="item in bloqueadas"
					style="height: 30px; border-bottom: 1px solid gray">
					<div class="col-lg-10">
						{{item.caracteristicaBloqueada.descricao}}</div>
					<div class="col-lg-2">
						<button type="button" class="btn btn-danger"
							style="height: 20px; width: 20px; padding: 0;"
							ng-click="excluirBloqueio(item.id)">
							<i class="fa fa-minus"></i>
						</button>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default pull-left"
					data-dismiss="modal">Cancelar</button>
			</div>
		</div>
	</div>
</main>

<footer>
	@copyright - &nbsp; <img src="http://demacode.com.br/wp-content/uploads/2018/10/loginnovo.png" />
</footer>

